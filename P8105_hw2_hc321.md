P8105_hw2_hc3212
================
Hening cui
2021/10/3

    ## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.1 ──

    ## ✓ ggplot2 3.3.5     ✓ purrr   0.3.4
    ## ✓ tibble  3.1.4     ✓ dplyr   1.0.7
    ## ✓ tidyr   1.1.3     ✓ stringr 1.4.0
    ## ✓ readr   2.0.1     ✓ forcats 0.5.1

    ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
    ## x dplyr::filter() masks stats::filter()
    ## x dplyr::lag()    masks stats::lag()

## Problem 1

Read and clean the Mr. Trash Wheel sheet.

``` r
trash_wheel_df = 
  read_excel("./data/Trashwheel.xlsx", sheet = "Mr. Trash Wheel", range = "A2:N408") %>% 
  janitor::clean_names() %>% 
  drop_na(dumpster) %>% 
  mutate(sports_balls = as.integer(sports_balls))
trash_wheel_df
```

    ## # A tibble: 344 × 14
    ##    dumpster month  year date                weight_tons volume_cubic_yards
    ##       <dbl> <chr> <dbl> <dttm>                    <dbl>              <dbl>
    ##  1        1 May    2014 2014-05-16 00:00:00        4.31                 18
    ##  2        2 May    2014 2014-05-16 00:00:00        2.74                 13
    ##  3        3 May    2014 2014-05-16 00:00:00        3.45                 15
    ##  4        4 May    2014 2014-05-17 00:00:00        3.1                  15
    ##  5        5 May    2014 2014-05-17 00:00:00        4.06                 18
    ##  6        6 May    2014 2014-05-20 00:00:00        2.71                 13
    ##  7        7 May    2014 2014-05-21 00:00:00        1.91                  8
    ##  8        8 May    2014 2014-05-28 00:00:00        3.7                  16
    ##  9        9 June   2014 2014-06-05 00:00:00        2.52                 14
    ## 10       10 June   2014 2014-06-11 00:00:00        3.76                 18
    ## # … with 334 more rows, and 8 more variables: plastic_bottles <dbl>,
    ## #   polystyrene <dbl>, cigarette_butts <dbl>, glass_bottles <dbl>,
    ## #   grocery_bags <dbl>, chip_bags <dbl>, sports_balls <int>,
    ## #   homes_powered <dbl>

Read and clean precipitation data for 2018 and 2019.

``` r
pre_2018_df = 
  read_excel("./data/Trashwheel.xlsx", sheet = "2018 Precipitation", range = "A2:B15") %>%
  janitor::clean_names() %>% 
  drop_na(month, total) %>% 
  mutate(year = 2018) %>% 
  relocate(year) 
view(pre_2018_df)

pre_2019_df = 
  read_excel("./data/Trashwheel.xlsx", sheet = "2019 Precipitation", range = "A2:B15") %>%
  janitor::clean_names() %>% 
  drop_na(month, total) %>% 
  mutate(year = 2019) %>%
  relocate(year) 
view(pre_2019_df)
```

Precipitation combine.

``` r
NPre_df= 
  bind_rows(pre_2018_df, pre_2019_df) %>% 
  mutate(month = month.name[month])
NPre_df
```

    ## # A tibble: 18 × 3
    ##     year month     total
    ##    <dbl> <chr>     <dbl>
    ##  1  2018 January    0.94
    ##  2  2018 February   4.8 
    ##  3  2018 March      2.69
    ##  4  2018 April      4.69
    ##  5  2018 May        9.27
    ##  6  2018 June       4.77
    ##  7  2018 July      10.2 
    ##  8  2018 August     6.45
    ##  9  2018 September 10.5 
    ## 10  2018 October    2.12
    ## 11  2018 November   7.82
    ## 12  2018 December   6.11
    ## 13  2019 January    3.1 
    ## 14  2019 February   3.64
    ## 15  2019 March      4.47
    ## 16  2019 April      1.46
    ## 17  2019 May        3.58
    ## 18  2019 June       0.42

The first data set was generated by Mr. Trashwheel trash collector in
Baltimore, Maryland which include the information of trash entering,
colletion and dumpster storage. The dataset contains information on
dumpster, month, year, date, weight_tons, volume_cubic_yards,
plastic_bottles, polystyrene, cigarette_butts, glass_bottles,
grocery_bags, chip_bags, sports_balls, homes_powered. There are a total
of 344 rows in our final dataset.

The second data set was the month precipitation data in 2018 and 2019.
The dataset contains information on year, month, total. There are a
total of 18 rows in our final dataset.

-   The total precipitation in 2018 was 70.33 inches.
-   The median number of sports balls found in a dumpster in 2019 was
    8.5

## Problem 2

Read and clean pols-month.csv.

``` r
pols_month_df = 
  read_csv("./data/fivethirtyeight/pols-month.csv") %>% 
  janitor::clean_names() %>% 
  drop_na() %>% 
  separate(mon, into = c("year", "month", "day"), sep = "-") %>% 
  mutate(month = month.name[as.integer(month)]) 
```

    ## Rows: 822 Columns: 9

    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl  (8): prez_gop, gov_gop, sen_gop, rep_gop, prez_dem, gov_dem, sen_dem, r...
    ## date (1): mon

    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
pols_month_clean = 
  pivot_longer(
    pols_month_df, 
    prez_gop:rep_dem,
    names_to  = "president",
    values_to  = "values"
  ) %>% 
  filter(president != c("prez_dem","prez_gop")) %>% 
  select(-day)
view(pols_month_clean)
```

Second, clean the data in snp.csv using a similar process to the above.
For consistency across datasets, arrange according to year and month,
and organize so that year and month are the leading columns.

Read and clean snp.csv.

``` r
snp_df = 
  read_csv("./data/fivethirtyeight/snp.csv") %>% 
  janitor::clean_names() %>% 
  drop_na() %>% 
  separate(date, into = c("year", "month", "day"), sep = "/") %>% 
  mutate(month = month.name[as.integer(month)]) %>% 
  arrange(year, month) %>% 
  relocate(year, month)
```

    ## Rows: 787 Columns: 2

    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (1): date
    ## dbl (1): close

    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
